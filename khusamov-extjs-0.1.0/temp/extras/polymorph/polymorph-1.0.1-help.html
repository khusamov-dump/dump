

<!DOCTYPE html>
<html>
<head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
 <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" >
 
 <meta name="ROBOTS" content="NOARCHIVE">
 
 <link rel="icon" type="image/vnd.microsoft.icon" href="https://ssl.gstatic.com/codesite/ph/images/phosting.ico">
 
 
 <script type="text/javascript">
 
 
 
 
 var codesite_token = "ABZ6GAfmHbxgFtAsjW-aiPtECm_g0WGvDw:1430686794342";
 
 
 var CS_env = {"token": "ABZ6GAfmHbxgFtAsjW-aiPtECm_g0WGvDw:1430686794342", "profileUrl": "/u/114068449373212741218/", "projectName": "polymorph-js", "assetHostPath": "https://ssl.gstatic.com/codesite/ph", "domainName": null, "projectHomeUrl": "/p/polymorph-js", "assetVersionPath": "https://ssl.gstatic.com/codesite/ph/1191371308984722110", "loggedInUserEmail": "khusamov@gmail.com", "relativeBaseUrl": ""};
 var _gaq = _gaq || [];
 _gaq.push(
 ['siteTracker._setAccount', 'UA-18071-1'],
 ['siteTracker._trackPageview']);
 
 (function() {
 var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
 ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
 })();
 
 </script>
 
 
 <title>
 polymorph-js -
 
 
 Polymorphic JavaScript functions and methods - Google Project Hosting
 </title>
 <link type="text/css" rel="stylesheet" href="https://ssl.gstatic.com/codesite/ph/1191371308984722110/css/core.css">
 
 <link type="text/css" rel="stylesheet" href="https://ssl.gstatic.com/codesite/ph/1191371308984722110/css/ph_detail.css" >
 
 
 
 
<!--[if IE]>
 <link type="text/css" rel="stylesheet" href="https://ssl.gstatic.com/codesite/ph/1191371308984722110/css/d_ie.css" >
<![endif]-->
 <style type="text/css">
 .menuIcon.off { background: no-repeat url(https://ssl.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 -42px }
 .menuIcon.on { background: no-repeat url(https://ssl.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 -28px }
 .menuIcon.down { background: no-repeat url(https://ssl.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 0; }
 
 
 .psicon-container {
 min-width:24px;
 }

 
 </style>
</head>
<body class="t1">
<script type="text/javascript">
 window.___gcfg = {lang: 'en'};
 (function() 
 {var po = document.createElement("script");
 po.type = "text/javascript"; po.async = true;po.src = "https://apis.google.com/js/plusone.js";
 var s = document.getElementsByTagName("script")[0];
 s.parentNode.insertBefore(po, s);
 })();
</script>
<div class="headbg">

 <div id="gaia">
 

 <span>
 
 
 
 <a href="#" id="multilogin-dropdown" onclick="return false;"
 ><u><b>khusamov@gmail.com</b></u> <small>&#9660;</small></a>
 
 
 | <a href="/u/114068449373212741218/" id="projects-dropdown" onclick="return false;"
 ><u>My favorites</u> <small>&#9660;</small></a>
 | <a href="/u/114068449373212741218/" onclick="_CS_click('/gb/ph/profile');"
 title="Profile, Updates, and Settings"
 ><u>Profile</u></a>
 | <a href="https://www.google.com/accounts/Logout?continue=https%3A%2F%2Fcode.google.com%2Fp%2Fpolymorph-js%2F" 
 onclick="_CS_click('/gb/ph/signout');"
 ><u>Sign out</u></a>
 
 </span>

 </div>

 <div class="gbh" style="left: 0pt;"></div>
 <div class="gbh" style="right: 0pt;"></div>
 
 
 <div style="height: 1px"></div>
<!--[if lte IE 7]>
<div style="text-align:center;">
Your version of Internet Explorer is not supported. Try a browser that
contributes to open source, such as <a href="http://www.firefox.com">Firefox</a>,
<a href="http://www.google.com/chrome">Google Chrome</a>, or
<a href="http://code.google.com/chrome/chromeframe/">Google Chrome Frame</a>.
</div>
<![endif]-->



 <table style="padding:0px; margin: 0px 0px 10px 0px; width:100%" cellpadding="0" cellspacing="0"
 itemscope itemtype="http://schema.org/CreativeWork">
 <tr style="height: 58px;">
 
 
 
 <td id="plogo">
 <link itemprop="url" href="/p/polymorph-js">
 <a href="/p/polymorph-js/">
 
 <img src="https://ssl.gstatic.com/codesite/ph/images/defaultlogo.png" alt="Logo" itemprop="image">
 
 </a>
 </td>
 
 <td style="padding-left: 0.5em">
 
 <div id="pname">
 <a href="/p/polymorph-js/"><span itemprop="name">polymorph-js</span></a>
 </div>
 
 <div id="psum">
 <a id="project_summary_link"
 href="/p/polymorph-js/"><span itemprop="description">Polymorphic JavaScript functions and methods</span></a>
 
 </div>
 
 
 </td>
 <td style="white-space:nowrap;text-align:right; vertical-align:bottom;">
 
 <form action="/hosting/search">
 <input size="30" name="q" value="" type="text">
 
 <input type="submit" name="projectsearch" value="Search projects" >
 </form>
 
 </tr>
 </table>

</div>

 
<div id="mt" class="gtb"> 
 <a href="/p/polymorph-js/" class="tab active">Project&nbsp;Home</a>
 
 
 
 
 <a href="/p/polymorph-js/downloads/list" class="tab ">Downloads</a>
 
 
 
 
 
 <a href="/p/polymorph-js/w/list" class="tab ">Wiki</a>
 
 
 
 
 
 <a href="/p/polymorph-js/issues/list"
 class="tab ">Issues</a>
 
 
 
 
 
 <a href="/p/polymorph-js/source/checkout"
 class="tab ">Source</a>
 
 
 
 
 
 
 
 
 <a href="https://code.google.com/export-to-github/export?project=polymorph-js">
 <button>Export to GitHub</button>
 
 </a>
 
 
 
 
 
 <div class=gtbc></div>
</div>
<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0" class="st">
 <tr>
 
 
 
 
 
 
 
 <td class="subt">
 <div class="st1">
 <div class="isf">
 <span class="inst1">
 <a href="/p/polymorph-js/">Summary</a>
 </span>
 
 
 &nbsp;
 <span class="inst3">
 <a href="/p/polymorph-js/people/list">People</a>
 </span>
 
 
 </div>
</div>

 </td>
 
 
 <td align="right" valign="top" class="bevel-right"></td>
 </tr>
</table>


<script type="text/javascript">
 var cancelBubble = false;
 function _go(url) { document.location = url; }
</script>
<div id="maincol"
 
>

 





<table width="100%">
 <tr class="pscontent">
 <td class="pscolumnl">
 
 <div class="phead">Project Information</div>
 
 
 
 <div class="psicon">
 <div class="psicon-container goog-inline-block">
 <img width="15" height="15" id="star_img"
 title="Click to star project"
 src="https://ssl.gstatic.com/codesite/ph/images/star_on.gif"
 style="cursor:pointer; float:right"
 
 onclick="_CS_toggleStar(this,
 {'scope': 'projects',
 'user': '_CURRENT_USER',
 'item': 'polymorph-js'
 },
 true,
 '',
 '',
 '',
 'star_count',
 'plural');"/>
 </div>
 <span>
 Starred by <span id="star_count">8</span>&nbsp;user<span id="plural">s</span>
 </span>
 </div> 
 
 <ul class="pslist">
 
 <li class="psmeta">
 <a href="/p/polymorph-js/feeds">Project feeds</a>
 </li>
 <li class="psgap"/>
 
 
 
 <li class="psmeta"><b>Code license</b></li>
 <li class="psmeta">
 <a href="http://www.opensource.org/licenses/mit-license.php" rel="nofollow">MIT License</a>
 
 </li>
 <li class="psgap"/>
 
 
 
 
 
 
 <li class="psmeta">
 <span id="project_labels">
 <b>Labels</b><br/>
 
 <a class="label"
 href="/hosting/search?q=label:js">js</a>, 
 
 <a class="label"
 href="/hosting/search?q=label:javascript">javascript</a>, 
 
 <a class="label"
 href="/hosting/search?q=label:polymorphic">polymorphic</a>, 
 
 <a class="label"
 href="/hosting/search?q=label:polymorphism">polymorphism</a>, 
 
 <a class="label"
 href="/hosting/search?q=label:function">function</a>, 
 
 <a class="label"
 href="/hosting/search?q=label:method">method</a>
 
 </span>
 </li>
 <li class="psgap"/>
 
 
 </ul>
 <div class="psicon">
 <div class="psicon-container goog-inline-block">
 <div style="float:right" class="SPRITE_people-y16 goog-inline-block vt"></div>
 </div>
 <span><b>Members</b></span>
 </div>
 <ul class="pslist">
 
 
 
 

 <a class="userlink"
 href="/u/112892038422252729426/">amae...@gmail.com</a
>
 
 
 
 
 <li class="psgap"/>
 
 
 </ul>
 
 
 
 
 </td>
 <td id="wikicontent" class="psdescription">
 <p>This allows you to easily create polymorphic functions (functions which have the same name and differ in number of parameters or their types). JS itself doesn&#x27;t support this, so you should manually check number of parameters and their types to perform different actions. This library makes things much easier, and your code will look better as function interfaces will be explicitly declared. You may also create polymorphic methods and constructors. The library might be helpful if you want to port Java/C++ code to JS without changes in interface or just get used to write polymorphic functions. </p><p>The only library function called &#x27;polymorph&#x27; accepts bunch of subfunctions optionally prepended by Object, which describes parameter types. The return value of &#x27;polymorph&#x27; function is an actual polymorphic function. If your subfunctions differ in number of parameters only, you may omit parameter types Object. You may also specify types for some parameters only, other ones will not be checked. </p><p>Simple example: </p><pre class="prettyprint">var PolyFunc = polymorph(
	function(a,b,c) {
		return &quot;Three arguments version -- any types&quot;;
	},
	
	{i: Number, str: String},
	function(i,str) {
		return &quot;Number and string passed&quot;;
	},
	
	{re: RegExp},
	function(re,a) {
		return &quot;RegExp and something else passed&quot;;
	},
	
	{f: Function, b: Boolean},
	function(f,b) {
		return &quot;Function and boolean passed&quot;;
	},
	
	{f: Function, i: Number},
	function(f,i) {
		return &quot;Function and number passed&quot;;
	}
);

alert(PolyFunc(1,2,3)); // &quot;Three arguments version -- any types&quot;
alert(PolyFunc(1,&quot;qq&quot;)); // &quot;Number and string passed&quot;
alert(PolyFunc(function() {}, true)); // &quot;Function and boolean passed&quot;
alert(PolyFunc(function() {}, 1)); // &quot;Function and number passed&quot;
alert(PolyFunc(/a/, 1)); // &quot;RegExp and something else passed&quot;
alert(PolyFunc(/a/, &quot;str&quot;)); // &quot;RegExp and something else passed&quot;</pre><p>When you call the resulting function, it will try to find the most suitable subfunction to call. Note that for the sake of performance type checks are not strict: if types are not compatible with any subfunction, then last registered one with given arguments number will be called. </p><p>Created polymorphic function has two additional methods: update and inherit. The update method allows you to add more functions (probably replacing old ones), while the inherit method will create new polymorphic function (like clone+update). </p><pre class="prettyprint">PolyFunc.update(
	{func: Function, n: Number},
	function(func, n) {
		return &quot;New function-number function replaced old one&quot;;
	},
	
	function(a) {
		return &quot;Single-parameter function&quot;;
	}
);
alert(PolyFunc(function() {}, 1)); // New function-number function replaced old one
alert(PolyFunc(function() {})); // Single-parameter function</pre><p>Example of using polymorphic constructors and methods: </p><pre class="prettyprint">/*
Simple object with polymorph constructor
Note that one constructor can call another
*/
var Point = polymorph(
	function() {
		this.constructor(0,0);
	},
	function(x,y) {
		this.x = x;
		this.y = y;
		this.toString = function() {return this.x+&quot;; &quot;+this.y;};
	}
);

/*
More complex polymorph constructor
*/
var Rectangle = polymorph(
	function(x1, y1, x2, y2) {
		this.x1 = x1;
		this.y1 = y1;
		this.x2 = x2;
		this.y2 = y2;
	},

	/*
	Two two-parameter constructors with different parameter types
	*/
	{p1: Point, p2: Point},
	function(p1, p2) {
		this.constructor(p1.x, p1.y, p2.x, p2.y);
	},

	{x1: Number, y1: Number},
	function(x1, y1) {
		this.constructor(x1, y1, x1, y1);
	},

	function() {
		this.constructor(0, 0);
	}
);
Rectangle.prototype.toString = function() {return &quot;(&quot;+this.x1+&quot;, &quot;+this.y1+&quot;)-(&quot;+this.x2+&quot;, &quot;+this.y2+&quot;)&quot;;};
/*
Polymorph method (expand rectangle to include given point or rectangle).
Also can call other instances of itself.
*/
Rectangle.prototype.add = polymorph(
	{x: Number, y: Number},
	function(x,y) {
		if(this.x1 &gt; x) this.x1 = x;
		if(this.x2 &lt; x) this.x2 = x;
		if(this.y1 &gt; y) this.y1 = y;
		if(this.y2 &lt; y) this.y2 = y;
	},

	{p: Point},
	function(p) {
		this.add(p.x, p.y);
	},

	{r: Rectangle},
	function(r) {
		this.add(r.x1, r.y1);
		this.add(r.x2, r.y2);
	}
);

/*
Test Rectangle and Point constructors
*/
new Rectangle(); // &quot;(0, 0)-(0, 0)&quot;
new Rectangle(3,5); // &quot;(3, 5)-(3, 5)&quot;
new Rectangle(new Point(), new Point(5,6)); // &quot;(0, 0)-(5, 6)&quot;
new Rectangle(3,5,6,7); // &quot;(3, 5)-(6, 7)&quot;

/*
Test Rectangle.add method
*/
var r = new Rectangle(); // &quot;(0, 0)-(0, 0)&quot;
r.add(2,2); // &quot;(0, 0)-(2, 2)&quot;
r.add(new Point(1,3)); // &quot;(0, 0)-(2, 3)&quot;
r.add(new Rectangle(1,2,3,4)); // &quot;(0, 0)-(3, 4)&quot;</pre><p>You may find some more examples in polymorph-test.html. </p>
 </td>
 </tr>
</table>
<script src="https://ssl.gstatic.com/codesite/ph/1191371308984722110/js/prettify/prettify_core_compiled.js"></script>
<script type="text/javascript">
 prettyPrint();
</script>

 
 
 
 <script type="text/javascript" src="https://ssl.gstatic.com/codesite/ph/1191371308984722110/js/ph_core.js"></script>
 
 
 
 
</div> 

<div id="footer" dir="ltr">
 <div class="text">
 <a href="/projecthosting/terms.html">Terms</a> -
 <a href="http://www.google.com/privacy.html">Privacy</a> -
 <a href="/p/support/">Project Hosting Help</a>
 </div>
</div>
 <div class="hostedBy" style="margin-top: -20px;">
 <span style="vertical-align: top;">Powered by <a href="http://code.google.com/projecthosting/">Google Project Hosting</a></span>
 </div>

 
 


 
 </body>
</html>

